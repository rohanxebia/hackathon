<html>
<head>
<title>Google Map Hello World Example</title>
<style type="text/css">
div#map_container{
	width:100%;
	height:350px;
}
</style>
<script type="text/javascript" 
   src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>

<script type="text/javascript" src="goa_destinations.js"></script>
<script>
  function loadMap() {
    var latlng = new google.maps.LatLng(destination.lattitude, destination.longitude);
    var myOptions = {
      zoom: 4,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("map_container"),myOptions);
	
    var marker = new google.maps.Marker({
      position: latlng, 
      map: map, 
      title:destination.name,
	  animation:google.maps.Animation.DROP
    }); 
	google.maps.event.addListener(marker,'click',function() {
		map.setZoom(9);
		map.setCenter(marker.getPosition());
	});
	google.maps.event.addListener(map,'center_changed',function() {
		window.setTimeout(function() {
		map.panTo(marker.getPosition());
		},3000);
	});
	var infowindow = new google.maps.InfoWindow({
		content:destination.about + '<IMG BORDER="0"  SRC='+destination.pic+'>'
	});

	google.maps.event.addListener(marker, 'click', function() {
		infowindow.open(map,marker);
	});
  
  }
</script>
</head>

<body onload="loadMap()">
<div id="map_container"></div>
</body>

</html>